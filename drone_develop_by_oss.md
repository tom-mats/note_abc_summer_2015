# オープンソース によるドローンの開発の概要

## ソフトウェアの概要

今村博宣

* Dronecode

  Linxu fundationの一つ

  2014/10 に発足

  ハードウェア・ソフトウェア両面からのアプローチ

  ヘリやビーグルも対応 VTOL機も行う予定

+ Auto motive grade linux / tizen

  車載向けリファレンスプラットフォーム

+ Yocto

  組み込み用カスタムLinux環境を構築するためのリファレンスプラットフォーム openembeddeとも連携

* Dronekit

  アプリケーション開発用のSDK
  Dronecode:小脳
  Dronekit:大脳

## 環境

* DJIが有名。７割ぐらい
  * あまり公開しない
* Dronecodeの中心メンバーは3DR
  * オープンソースメイン

## 農薬散布の例

* 現状、外部のフィードバック等により農薬の散布をコントロールする機能はない。

## Dronecode

* 姿勢制御については以前と同等
* 飛行速度に応じて流量を制限
* タンクの残量、ポンプも正常に動作しているか判断する。
* ファームウェアのオープンソース

## Dronekit

+ Dronecodeからセンサ情報をもらうためのSDK群
  * Android, PC(Pyhton), cloudをサポート
  * iOSも対応予定
* アプリケーションのオープンソース
* これを用いることで、データの表示やPCアプリケーションもサポート可能
+ GPS情報を含めることで測量のアプリケーションも実装できる。

## 将来

* 目的にあったドローンが多々作成される
  * それにあったアプリケーション、ファームウェアを作る必要がある

  ー> そのためのDronecode, Dronekit


## ハードウェアの概要

## PX４系

### PX4

### PIXHAWK

### Arsov AUAV-X2

### APM2.6

### VRBrain

* cortex-m4になっている
* ハードウェアは非公開

### Pixhawk fire cape

* Bagle born + センサ
* Linuxで動く

### NavIO+

+ Rhapberry Piベース
* Linuxで動く
  * Ubuntu + Realtime OS化


# ドローンとは

橋口宏さん

* Droneと呼ばれたのは最近。昔は、無人飛行ロボットやUAVと呼ばれていた
+ 地上で動くものもドローンの一種か
* RC+センサ*マイコン*GNSSで構成される。

+ ウェイポイントナビゲーション + フライバイワイヤ制御 で ドローンとなる

## ミキシング

* ヘリだと複数のモータを一つの命令で動かす必要がある。ー>ミキシング
  * マイコンを使って簡単にミキシングする
  * 初期はセンサはジャイロだけで補助的な役割だった
    * 磁気方位センサ:方向
    * 気圧センサ:高さ
    * GNSS*緯度経度

## カメラを踏査して空撮

* デジカメ等を搭載して撮影

## GNSSを使った自動飛行

* 緯度、経度(ウェイポイント)を指定してあげればが自動で飛行してくれる
  * Dronekitはこちら側

## 運用形態

### 近距離

* 肉眼、目視で僧都雨
* 個人スキルに依存
* 現在の業務はほとんどこれ

### 中距離

* FPV(First Person View)
* ドローンについているカメラ映像を元に操縦
  * 操縦していると周りが見えない
* 逆方向の通信(ドローン側が発信)が必要
* リアルタイム性に難あり
* 字幕機能も使えばHUDも出来る

### 遠距離

+ 自立操縦
* 操縦しない
* まだだいぶ先。これを見据えて開発する必要がある。
* 現地到着後にFPV操作が必要かな(軍事用だとそうなっている)


### ヘリコプター

* YAMAHA R-MAX
+ 基本的には目視操作
* 長距離だったらこちらの方が良いかも

### マルチコプター

+ AR.Droneのヒット以降
+ ミキシング、フライトコウントローラが必須
* 名前で大体の大きさを判定できる
* 大きさは様々
* FCは多々ある
* 比較的新規参入しやすい
